%% ====================================================================
%% Comprehensive LaTeX style.tex file
%% ====================================================================

\usepackage[usenames,dvipsnames]{xcolor}

\usepackage[T1]{fontenc}
%\usepackage{lmodern}
%\usepackage{millennial}
\usepackage{typearea}
\usepackage{scrlayer-scrpage}
\usepackage[margin=1in]{geometry}

\usepackage[nointegrals]{wasysym}
%\usepackage{bbding}
\usepackage{lastpage, hyperref}
\usepackage{url,interval,calc,framed,fancybox,quoting,empheq,algorithm, esint}
\usepackage{algpseudocode}
\algrenewcommand\algorithmicprocedure{\textbf{function}}
\algrenewcommand{\algorithmiccomment}[1]{\hskip3em$\triangleright$ #1}

\usepackage{stackrel}
\usepackage{listings}
\lstset{
    keywordstyle=\color{blue}
  , basicstyle=\ttfamily\footnotesize\bfseries
  , commentstyle={}
  , columns=fullflexible
  , numbers=left
  , showstringspaces=false
  , keepspaces=true
  , xleftmargin=.2\textwidth
  , xrightmargin=.2\textwidth
  , frame=tb
  }

\AtBeginDocument{\setlength{\abovedisplayshortskip}{2pt}}%
\AtBeginDocument{\setlength{\belowdisplayshortskip}{4pt}}%
\AtBeginDocument{\setlength{\abovedisplayskip}{4pt}}%
\AtBeginDocument{\setlength{\belowdisplayskip}{4pt}}%

%=== section spacing ==
%\makeatletter
% \renewcommand{\section}{\@startsection {section}{1}{\z@}%
%     {-0.1ex \@plus -.5ex \@minus -.2ex}%
%     {0.1ex \@plus -.5ex}%
%     {\bfseries\Large}}
% \renewcommand{\subsection}{\@startsection {subsection}{2}{\z@}%
%     {-0.1ex \@plus -.5ex \@minus -.2ex}%
%     {0.1ex \@plus -.2ex}%
%    {\bfseries}}
%\makeatother

%%% === TODO: Better handling with KOMA, now generates error
\usepackage[compact]{titlesec}
%\titlespacing{\section}{0pt}{0pt}{0cm}
%\titlespacing{\subsection}{0pt}{0pt}{0cm}

\usepackage[e]{esvect}
\usepackage[makeroom]{cancel}

%=== loading symbols ===
\usepackage{dsfont}
\newcommand{\eins}{\ensuremath{\mathds{1}}}

%\usepackage{stmaryrd}
\usepackage{pgfplots}
\pgfplotsset{compat=1.10}

\usepackage{upgreek, bold-extra, multicol, enumerate, mathrsfs, tensor}
\usepackage{amsmath, amsopn, amsfonts, mathtools, tikz, units, yhmath, amssymb}
\usetikzlibrary{shapes,calendar,matrix,backgrounds,folding,knots,decorations.markings,calc}
\usepackage[framed, hyperref, thmmarks, amsmath]{ntheorem}
\usepackage[font=small,labelsep=none]{caption}
\usepackage{subfig}
\usepackage{mathdots}
%% tikz
\tikzset{%
extended line/.style={shorten >=-#1,shorten <=-#1},%
extended line/.default=.5cm,%
wpoint/.style={fill=white,draw=black},%
bpoint/.style={fill=black,draw=black},%
}

\addtokomafont{disposition}{\rmfamily}

\usepackage{enumitem}
\setlist[enumerate]{itemsep=0pt, parsep=0pt, topsep=1pt, labelindent=0.1in, leftmargin=* } 
\setlist[itemize]{itemsep=0pt, parsep=0pt, topsep=1pt, labelindent=0.1in, leftmargin=* } 
\setlist[description]{itemsep=0pt, parsep=0pt, topsep=1pt, labelindent=0.1in, leftmargin=*, font=\normalfont\bfseries } 
\setlist[itemize,1]{}
\setlist[description,1]{}
\setlist[enumerate,1]{label=(\emph{\alph*}), ref=\alph*}
\setlist[enumerate,2]{label=(\emph{\roman*}), ref=\roman*}
\setlist[enumerate,3]{label=(\emph{\arabic*}), ref=\arabic*}
\setlist[enumerate,4]{label=(\emph{\roman*}), ref=\roman*}

\newenvironment{enumI}{\begin{itemize}}{\end{itemize}}
\newenvironment{enumC}{\begin{enumerate}}{\end{enumerate}}
\newenvironment{enumCN}{\begin{enumerate}[label=\arabic*.), ref=\arabic*]}{\end{enumerate}}
\newenvironment{enumCR}{\begin{enumerate}[label=(\emph{\roman*}), ref=\arabic*]}{\end{enumerate}}


\setlength{\headheight}{1.25\baselineskip}
\setlength{\headsep}{0.5\baselineskip}
\setlength{\footskip}{2.5\baselineskip}
\setlength{\footnotesep}{\baselineskip}

%\setlength{\parindent}{0cm}
\setlength{\parskip}{2pt plus0pt minus1pt}

%% === Experimental ===
%\linespread{0.9}

\setlength{\multicolsep}{2.0pt plus 0pt minus 0pt}
\newenvironment{twocols}[1][]{\begin{multicols}{2}}{\end{multicols}\vspace{-5pt}}

\newcounter{probCounter}
\setcounter{probCounter}{0}

\theoremstyle{plain}
\theoremheaderfont{\normalfont\bfseries}
\theorembodyfont{\itshape}
\theoremseparator{:}
\theorempostskip{0cm}

\newtheorem{ptheorem}{Theorem}[probCounter]
\newtheorem{theorem}{Theorem}
\newtheorem{conj}{Conjecture}

\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{plemma}{Lemma}[probCounter]
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}

\theoremstyle{plain}
\theoremheaderfont{\normalfont\bfseries}
\theorembodyfont{\slshape}
\theoremseparator{:}
\theorempostskip{0cm}

\newtheorem{claim}[theorem]{Claim}
\newtheorem{pclaim}{Claim}[probCounter]

\theoremstyle{plain}
\theoremheaderfont{\normalfont\bfseries}
\theorembodyfont{\upshape}
\theoremseparator{:}
\theorempostskip{0cm}

\newtheorem{defn}[theorem]{Definition}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{fact}[theorem]{Fact}
\newtheorem{example}{Example}

%\theoremheaderfont{\normalfont\bfseries\color{BrickRed}}
\theorembodyfont{\upshape} 
\theoremstyle{nonumberplain}
%\theoremstyle{plain}
\theoremsymbol{} 
\theoremseparator{:}
\newtheorem{rmk}{Remark}


\theoremheaderfont{\normalfont\bfseries}
\theorembodyfont{\slshape}
\theoremstyle{nonumberplain}
\newtheorem{clm}{Claim}
\theoremseparator{:}
\theorembodyfont{\itshape}
\newtheorem{lem}{Lemma}
\newtheorem{thm}{Theorem}


\theoremprework{%
\setlength\theorempostskipamount{3\parskip}
}
\theoremheaderfont{\normalfont\bfseries}
\theorembodyfont{\upshape} 
\theoremstyle{nonumberplain}
\theoremseparator{:} 
\theoremsymbol{\rule{1ex}{2ex}} 
\newtheorem{proof}{Proof}
\theoremprework{%
\setlength\theorempostskipamount{3\parskip}
}
\theoremsymbol{}
\newtheorem{solution}{Solution}




\newcommand{\NP}{\textsc{np\ }}
\newcommand{\iid}{\textsc{iid\ }}
\newcommand{\id}{\textsc{id}}

\newcommand{\ignore}[1]{}

\newcommand{\mb}[1]{\ensuremath{\mathbf{#1}}}
\newcommand{\mc}[1]{\ensuremath{\mathcal{#1}}}
\newcommand{\mf}[1]{\ensuremath{\mathbb{#1}}}
\newcommand{\me}[1]{\ensuremath{\mathscr{#1}}}
\newcommand{\mk}[1]{\ensuremath{\mathfrak{#1}}}
\newcommand{\mv}[1]{\ensuremath{\boldsymbol{#1}}}

\newcommand{\N}{\mathbb{N}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Cx}{\mathbb{C}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\RP}{\mathbb{RP}}

\newcommand{\df}{\ensuremath{\ \mathsf{d}}}

\DeclareMathOperator{\GF}{\mathrm{GF}}
\DeclareMathOperator{\SO}{\mathbf{SO}}
\DeclareMathOperator{\E}{\mathsf{E}}
\DeclareMathOperator{\var}{\mathsf{Var}}
\DeclareMathOperator{\pr}{\mathsf{Pr}}

\newcommand{\ex}{\ensuremath{\mathsf{E}}}
\newcommand{\transp}{\ensuremath{^\mathsf{T}}}
\newcommand{\iv}{\ensuremath{^{-1}}}
\newcommand{\cp}{\ensuremath{^{\complement}}}
\newcommand{\defeq}{\ensuremath \stackrel{\Delta}{=}}

\let\originalleft\left
\let\originalright\right
\renewcommand{\left}{\mathopen{}\mathclose\bgroup\originalleft}
\renewcommand{\right}{\aftergroup\egroup\originalright}

\newcommand{\delimit}[4]{
	\ifcase #1
		\mathopen{}\left#2 #3 \right#4\mathclose{}
		\or #2 #3 #4
		\or \bigl#2 #3 \bigr#4
		\or \Bigl#2 #3 \Bigr#4
		\or \biggl#2 #3 \biggr#4
		\or \Biggl#2 #3 \Biggr#4
	\fi
}

%Generalize builder with a bar
\newcommand{\delb}[5]{
	\delimit{#1}{#2}{
		#3
		\ifcase #1
			\mid 
			\or \mid 
			\or \bigm| 
			\or \Bigm| 
			\or \biggm| 
			\or \Biggm| 
		\fi
		#4
	}{#5}
}

%Generalize builder with a colon
\newcommand{\delc}[5]{
	\delimit{#1}{#2}{
		#3
		\ifcase #1
			:
			\or :
			\else \,:\,
		\fi
		#4
	}{#5}
}

\usepackage{commath}
\newcommand{\iter}[1]{\ensuremath{^{\circ #1}}}
\newcommand{\nder}[1]{\ensuremath{^{\left(#1\right)}}}
\newcommand{\setc}[3][0]{\delb{#1}{\{}{#2}{#3}{\}}}
\renewcommand{\set}[2][0]{\delimit{#1}{\{}{#2}{\}}}
\renewcommand{\norm}[2][0]{\delimit{#1}{\lVert}{#2}{\rVert}}
\renewcommand{\abs}[2][0]{\delimit{#1}{|}{#2}{|}}
\newcommand{\angbr}[2][0]{\delimit{#1}{\langle}{#2}{\rangle}}
\newcommand{\floor}[2][0]{\delimit{#1}{\lfloor}{#2}{\rfloor}}
\newcommand{\ceil}[2][0]{\delimit{#1}{\lceil}{#2}{\rceil}}

\newcommand{\cro}{\ensuremath{^{\times}}}

\DeclareMathOperator{\Ub}{\ensuremath{Ub}}
\DeclareMathOperator{\Lb}{\ensuremath{Lb}}

\DeclareMathOperator{\lip}{\ensuremath{lip}}
\DeclareMathOperator{\dvg}{\ensuremath{div}}
\DeclareMathOperator{\len}{\ensuremath{len}}
\DeclareMathOperator{\lcm}{\ensuremath{lcm}}
\DeclareMathOperator{\pdf}{\ensuremath{pdf}}
\DeclareMathOperator{\Null}{\ensuremath{Null}}
\DeclareMathOperator{\Span}{\ensuremath{span}}
\DeclareMathOperator{\Ker}{\ensuremath{Ker}}
\DeclareMathOperator{\proj}{\ensuremath{proj}}
\DeclareMathOperator{\sech}{\ensuremath{sech}}
\DeclareMathOperator{\cis}{\ensuremath{cis}}
\DeclareMathOperator{\avg}{\ensuremath{avg}}
\DeclareMathOperator{\dist}{\ensuremath{dist}}
\DeclareMathOperator{\diam}{\ensuremath{diam}}
\DeclareMathOperator{\Sub}{\ensuremath{Sub}}
\DeclareMathOperator{\Lin}{\ensuremath{Lin}}
\DeclareMathOperator{\Hom}{\ensuremath{Hom}}
\DeclareMathOperator{\End}{\ensuremath{End}}
\DeclareMathOperator{\Rng}{\ensuremath{Rng}}
\DeclareMathOperator{\dom}{\ensuremath{Dom}}
\DeclareMathOperator{\Tr}{\ensuremath{Tr}}
\DeclareMathOperator{\Int}{\ensuremath{Int}}
\DeclareMathOperator{\Ext}{\ensuremath{Ext}}
\DeclareMathOperator{\Clo}{\ensuremath{Clo}}
\DeclareMathOperator{\Bdy}{\ensuremath{Bdy}}
\DeclareMathOperator{\Acc}{\ensuremath{Acc}}
\DeclareMathOperator{\curl}{\ensuremath{curl}}
\DeclareMathOperator{\grad}{\ensuremath{grad}}
\DeclareMathOperator{\dil}{\ensuremath{dil}}
\DeclareMathOperator{\cof}{\ensuremath{cof}}
\DeclareMathOperator{\area}{\ensuremath{Area}}

% Inverse hyperbolic 
\DeclareMathOperator{\artanh}{\ensuremath{artanh}}
\DeclareMathOperator{\arcosh}{\ensuremath{arcosh}}
\DeclareMathOperator{\arsinh}{\ensuremath{arsinh}}
\DeclareMathOperator{\arcoth}{\ensuremath{arcoth}}
\DeclareMathOperator{\arsech}{\ensuremath{arsech}}
\DeclareMathOperator{\arcsch}{\ensuremath{arcsch}}

%
\DeclareMathOperator*{\bigtimes}{\raisebox{-1.25ex}{{\tikz [x=3.2ex,y=3.2ex,line width=.25ex] \draw (0,0) -- (1,1) (0,1) -- (1,0);}}}%
\DeclareMathOperator*{\dbigtimes}{\raisebox{-0.75ex}{{\tikz [x=2.1ex,y=2.1ex,line width=.2ex] \draw (0,0) -- (1,1) (0,1) -- (1,0);}}}%

%% Statistics command
\DeclareMathOperator{\Norm}{\ensuremath{\mathsf{Norm}}}
\DeclareMathOperator{\Bin}{\ensuremath{\mathsf{Bin}}}
\DeclareMathOperator{\Poi}{\ensuremath{\mathsf{Poi}}}
\DeclareMathOperator{\Geo}{\ensuremath{\mathsf{Geo}}}
\DeclareMathOperator{\Unif}{\ensuremath{\mathsf{Unif}}}

\newcommand{\prd}[3][0]{#2\angbr[#1]{#3}} 

\newcommand{\examhead}[6]{
	\begin{center}
	{{\large \fbox{\parbox{0.98\textwidth}{  \vskip 0.075in 
		\hbox to \hsize{#1 \hfil #2} \vskip 0.075in 
		\hbox to \hsize{#3 \hfil #4} \vskip 0.075in 
		\hbox to \hsize{#5 \hfil #6}
	}}}} 
	\end{center} 
	\vspace{-0.1in} }

\newcommand{\srudhead}[4]{
	
	\begin{center}
	{\textsf {\large \fbox{\parbox{0.98\textwidth}{ 
		\hbox to \hsize{#1 \hfil #2} \vskip 0.075in 
		\hbox to \hsize{#3 \hfil #4}
	}}}}
	\end{center} 
	\vspace{-0.1in} }

\newcommand{\rudhead}[4]{
	
	\begin{center}
	{ {\large \fbox{\parbox{0.98\textwidth}{ 
		\hbox to \hsize{#1 \hfil #2} \vskip 0.075in 
		\hbox to \hsize{#3 \hfil #4}
	}}}}
	\end{center} 
	\vspace{-0.1in} }
	
\newcommand{\drudhead}[4]{	
	\begin{center}
	{\textbf{\large { {\parbox{1\textwidth}{ 
		\hbox to \hsize{#1 \hfil #2} \vskip 0.075in 
		\hbox to \hsize{#3 \hfil #4}
	}}}}
	\raisebox{-5pt}[0pt][0pt]{\rule{\linewidth}{0.75pt}}
	}
	\end{center} 
	\vspace{-0.2in} 
}
	
\usepackage{chemfig}
\renewcommand*\printatom[1]{\ensuremath{\mathsf{#1}}}
  

\usepackage{centernot}

\newcommand{\prob}[1]{\noindent{\color{RoyalBlue}\textbf{{{\ifthenelse{\equal{#1}{}}{{Problem:}}{{Problem} {\large \textcolor{Black}{#1}}\textsf{:}}}}}} \stepcounter{probCounter}}
\newcommand{\soln}[1]{\noindent{\color{BrickRed}\textbf{{{\ifthenelse{\equal{#1}{}}{{{Solution:}}}{{{Solution}} {\large \textcolor{Black}{#1}}\textsf{:}}}}}}}
\newcommand{\varnmid}{\centernot\mid}
\newcommand{\iprod}[1]{\prod_{#1}^\infty}
\newcommand{\isum}[1]{\sum_{#1}^\infty}
\newcommand{\ilim}[1]{\lim_{#1\to\infty}}
\newcommand{\seq}[1]{#1_1,\dotsc,#1_n}

\newcommand{\shownum}{\addtocounter{equation}{1}\tag{\theequation}}
\usepackage{array}
\newcolumntype{x}[1]{>{\centering\arraybackslash\hspace{0pt}}p{#1}}
\renewcommand{\arraystretch}{1}

\newcommand{\w}{\hspace*{-3pt}}
\newcommand{\unitj}{\ensuremath{\mv{\textbf{\j}}}}
\newcommand{\uniti}{\ensuremath{\mv{\textbf{\i}}}}
\newcommand{\unitk}{\ensuremath{\mb{k}}}

%% ==== Custom macro ===
\newcommand{\eps}{\varepsilon}

%% ==== Arcs
\usepackage{graphicx,tipa}% http://ctan.org/pkg/{graphicx,tipa}
\newcommand{\arc}[1]{%
  \setbox9=\hbox{\ensuremath{#1}}%
  \ooalign{\resizebox{\wd9}{\height}{\texttoptiebar{\phantom{A}}}\cr\ensuremath{#1}}}
\newcommand\bigfrown[2][\textstyle]{\ensuremath{%
  \array[b]{c}\text{\scalebox{2}{$#1\frown$}}\\[-1.3ex]#1#2\endarray}}

\newcommand{\intentblank}{
\vspace*{\fill}%
\begin{center}%
This page is intentionally left blank.%
\end{center}%
\vspace{\fill}
}
